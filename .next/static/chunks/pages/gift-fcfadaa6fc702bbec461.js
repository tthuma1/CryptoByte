_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[18],{BYDN:function(e,t,r){"use strict";r.r(t);var n,a,s,i=r("o0o1"),c=r.n(i),o=r("HaE+"),u=r("1OyB"),d=r("vuIU"),l=r("JX7q"),h=r("Ji7U"),p=r("md7G"),f=r("foSv"),v=r("rePB"),g=r("q1tI"),m=r.n(g),b=r("5Yp1"),y=r("yE/o"),w=r("aQu0"),E=r("vFsZ"),k=r("umxb"),S=r("TbSc"),O=r("QetY"),A=r("igWR"),j=r("yo71"),x=r("oZBQ"),H=m.a.createElement;function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(p.a)(this,r)}}var I=function(e){Object(h.a)(r,e);var t=_(r);function r(){var e;Object(u.a)(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),Object(v.a)(Object(l.a)(e),"state",{mounted:!1,headerHeight:0,pausedHeight:0,recAddr:"",recAddrErr:!1,msgErr:!1,loading:!1,success:!1}),Object(v.a)(Object(l.a)(e),"onSubmit",function(){var t=Object(o.a)(c.a.mark((function t(r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),e.setState({loading:!0,msgErr:""}),t.prev=2,!e.state.recAddrErr&&""!==e.state.recAddr){t.next=5;break}throw{message:"Invalid receiver address."};case 5:return t.next=7,A.a.methods.safeTransferFrom(n,e.state.recAddr,e.props.id).send({from:n});case 7:e.setState({loading:!1,success:!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),e.setState({loading:!1,msgErr:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()),e}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.eth.getAccounts();case 2:n=e.sent[0],a=document.getElementById("header"),t=setInterval((function(){"visible"===a.style.visibility&&(s=document.getElementById("pausedmsg"),r.setState({headerHeight:a.clientHeight,pausedHeight:s.clientHeight}),clearInterval(t))}),100),window.addEventListener("pausedClosed",(function(e){r.setState({pausedHeight:0})})),this.setState({mounted:!0});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return H(b.a,{mounted:!0},H(j.a,null),H(y.a,{style:{marginTop:this.state.pausedHeight?20:this.state.headerHeight+20}},H(w.a,{as:"h3",inverted:!0,dividing:!0,textAlign:"center"},"You can gift your ERC721 tokens with the form below."),H(E.a,{inverted:!0,onSubmit:this.onSubmit},H(E.a.Group,{widths:"equal"},H(E.a.Input,{error:this.state.recAddrErr,label:"Receiver address"},H(k.a,{placeholder:"0x0000000000000000000000000000000000000000",value:this.state.recAddr,onChange:function(t){e.setState({recAddr:t.target.value}),t.target.value.match(/^(0x||0X)[a-fA-F0-9]{40}$/g)||""===t.target.value?e.setState({recAddrErr:!1}):e.setState({recAddrErr:{content:"Please enter a valid address."}})}}))),H(S.a,{info:!0},H("p",null,"This is going to transact the ERC721 token with"," ",H("b",null,"ID ",this.props.id)," from your account.",H("br",null),"Once the transaction is done, you can't get your token back. To avoid any inconveniences, please double check the receiver address (and you should also ",H("b",null,"never")," hand type addresses).")),this.state.msgErr&&H("div",null,H(S.a,{negative:!0,compact:!0},H(S.a.Header,null,"Something went wrong!"),this.state.msgErr),H("br",null)),this.state.success&&H("div",null,H(S.a,{positive:!0,compact:!0},H(S.a.Header,null,"Transaction complete!"),"The transaction was completed successfully."),H("br",null)),H(O.a,{type:"submit",loading:this.state.loading,disabled:this.state.loading},"Submit"))))}}],[{key:"getInitialProps",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,e.abrupt("return",{id:r.id});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(g.Component);t.default=I},skrq:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gift",function(){return r("BYDN")}])}},[["skrq",0,1,2,3,4,5,6]]]);