_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{EoCt:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/transfer",function(){return n("Vucr")}])},NNTU:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("wx14"),s=n("dI71"),o=n("Og4/"),r=n.n(o),i=n("bNQv"),c=n.n(i),u=n("Wt1U"),l=n.n(u),d=n("ijCd"),p=n.n(d),h=n("5MGi"),f=(n("17x9"),n("q1tI")),m=n.n(f),b=n("nPHS"),v=n("FtJ3"),g=n("TIbl"),O=n("Y53p"),y=n("ICNK"),k=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).calculations={bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1},t.firedCallbacks=[],t.ref=Object(f.createRef)(),t.fire=function(e,n,a){var s=e.callback,o=e.name;void 0===a&&(a=!1);var r=t.props,i=r.continuous,c=r.once,u=t.calculations[n]!==a,d=i||t.calculations[n]!==t.oldCalculations[n];u&&d&&t.execute(s,o),c||(t.firedCallbacks=l()(t.firedCallbacks,o))},t.handleUpdate=function(){t.ticking||(t.ticking=!0,t.frameId=requestAnimationFrame(t.update))},t.update=function(){if(t.mounted){t.ticking=!1,t.oldCalculations=t.calculations,t.calculations=t.computeCalculations(),t.pageYOffset=t.getPageYOffset();var e=t.props,n=e.onBottomPassed,s=e.onBottomPassedReverse,o=e.onBottomVisible,i=e.onBottomVisibleReverse,u=e.onPassing,l=e.onPassingReverse,d=e.onTopPassed,p=e.onTopPassedReverse,h=e.onTopVisible,f=e.onTopVisibleReverse,m=e.onOffScreen,b=e.onOnScreen,v=e.updateOn,g={bottomPassed:{callback:n,name:"onBottomPassed"},bottomVisible:{callback:o,name:"onBottomVisible"},passing:{callback:u,name:"onPassing"},offScreen:{callback:m,name:"onOffScreen"},onScreen:{callback:b,name:"onOnScreen"},topPassed:{callback:d,name:"onTopPassed"},topVisible:{callback:h,name:"onTopVisible"}},O={bottomPassed:{callback:s,name:"onBottomPassedReverse"},bottomVisible:{callback:i,name:"onBottomVisibleReverse"},passing:{callback:l,name:"onPassingReverse"},topPassed:{callback:p,name:"onTopPassedReverse"},topVisible:{callback:f,name:"onTopVisibleReverse"}};r()(t.props,"onUpdate",null,Object(a.a)({},t.props,{calculations:t.calculations})),t.fireOnPassed(),c()(O,(function(e,n){return t.fire(e,n,!0)})),c()(g,(function(e,n){return t.fire(e,n)})),"repaint"===v&&t.handleUpdate()}},t}Object(s.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this.mounted=!0,Object(b.a)()){var e=this.props,t=e.context,n=e.fireOnMount,a=e.updateOn;this.pageYOffset=this.getPageYOffset(),this.attachHandlers(t,a),n&&this.update()}},n.componentDidUpdate=function(e){(e.continuous!==this.props.continuous||e.once!==this.props.once||e.updateOn!==this.props.updateOn)&&(this.firedCallbacks=[]),e.context===this.props.context&&e.updateOn===this.props.updateOn||(this.unattachHandlers(e.context),this.attachHandlers(this.props.context,this.props.updateOn))},n.componentWillUnmount=function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1},n.attachHandlers=function(e,t){"events"!==t?this.handleUpdate():e&&(v.a.sub("resize",this.handleUpdate,{target:e}),v.a.sub("scroll",this.handleUpdate,{target:e}))},n.unattachHandlers=function(e){e&&(v.a.unsub("resize",this.handleUpdate,{target:e}),v.a.unsub("scroll",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)},n.execute=function(e,t){var n=this.props.continuous;e&&(!n&&p()(this.firedCallbacks,t)||(e(null,Object(a.a)({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))},n.fireOnPassed=function(){var e=this,t=this.calculations,n=t.percentagePassed,a=t.pixelsPassed,s=this.props.onPassed;c()(s,(function(t,s){var o=Number(s);if(o&&a>=o)e.execute(t,s);else{var r=(""+s).match(/^(\d+)%$/);if(r){var i=Number(r[1])/100;n>=i&&e.execute(t,s)}}}))},n.computeCalculations=function(){var e=this.props.offset,t=this.ref.current.getBoundingClientRect(),n=t.bottom,a=t.height,s=t.top,o=t.width,r=Object(g.a)(e),i=r[0],c=r[1],u=this.getPageYOffset()>this.pageYOffset?"down":"up",l=s<i,d=n<c,p=d?0:Math.max(-1*s,0),h=p/a,f=n>=c&&n<=window.innerHeight,m=s>=i&&s<=window.innerHeight,b=(m||l)&&!d;return{bottomPassed:d,bottomVisible:f,direction:u,fits:m&&f,height:a,passing:l&&!d,percentagePassed:h,pixelsPassed:p,offScreen:!b,onScreen:b,topPassed:l,topVisible:m,width:o}},n.getPageYOffset=function(){var e=this.props.context;return e?e===window?window.pageYOffset:e.scrollTop:0},n.render=function(){var e=this.props.children,n=Object(O.a)(t,this.props),a=Object(y.a)(t,this.props);return m.a.createElement(h.a,{innerRef:this.ref},m.a.createElement(n,a,e))},t}(f.Component);k.handledProps=["as","children","context","continuous","fireOnMount","offset","onBottomPassed","onBottomPassedReverse","onBottomVisible","onBottomVisibleReverse","onOffScreen","onOnScreen","onPassed","onPassing","onPassingReverse","onTopPassed","onTopPassedReverse","onTopVisible","onTopVisibleReverse","onUpdate","once","updateOn"],k.propTypes={},k.defaultProps={context:Object(b.a)()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:"events"}},TIbl:function(e,t,n){"use strict";t.a=function(e){return"number"===typeof e||"string"===typeof e?[e,e]:e}},Vucr:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),s=n.n(a),o=n("HaE+"),r=n("1OyB"),i=n("vuIU"),c=n("JX7q"),u=n("Ji7U"),l=n("md7G"),d=n("foSv"),p=n("rePB"),h=n("q1tI"),f=n.n(h),m=n("5Yp1"),b=n("8Kt/"),v=n.n(b),g=n("NNTU"),O=n("yE/o"),y=n("aQu0"),k=n("vFsZ"),C=n("umxb"),w=n("pLir"),P=n("TbSc"),R=n("QetY"),x=n("yo71"),B=n("oZBQ"),S=n("JZpj"),j=n("kB5k"),E=n.n(j),T=f.a.createElement;function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(d.a)(e);if(t){var s=Object(d.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(l.a)(this,n)}}var H,A,I,U,N,Y,_,M=[{key:"GCRB",text:"GCRB (1e+9)",value:"1e+9"},{key:"MCRB",text:"MCRB (1e+6)",value:"1e+6"},{key:"kCRB",text:"kCRB (1000)",value:"1000"},{key:"CRB",text:"CRB (1)",value:"1"},{key:"mCRB",text:"mCRB (0.001)",value:"0.001"},{key:"\xb5CRB",text:"\xb5CRB (1e-6)",value:"1e-6"},{key:"nCRB",text:"nCRB (1e-9)",value:"1e-9"},{key:"pCRB",text:"pCRB (1e-12)",value:"1e-12"},{key:"fCRB",text:"fCRB (1e-15)",value:"1e-15"},{key:"aCRB",text:"aCRB (1e-18)",value:"1e-18"}],F=function(e){Object(u.a)(n,e);var t=V(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i)),Object(p.a)(Object(c.a)(e),"state",{mounted:!1,headerHeight:0,pausedHeight:0,recAddr:"",amount:"",recAddrErr:!1,amountErr:!1,msgErr:"",loading:!1,success:!1,dropdownValue:"1",dropdownKey:"CRB"}),Object(p.a)(Object(c.a)(e),"getCryptoByteInfo",Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.methods.decimals().call();case 2:return I=e.sent,e.next=5,B.a.eth.getAccounts();case 5:U=e.sent[0];case 6:case"end":return e.stop()}}),e)})))),Object(p.a)(Object(c.a)(e),"onSubmit",Object(o.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({loading:!0,msgErr:""}),t.prev=1,!e.state.recAddrErr&&""!==e.state.recAddr){t.next=4;break}throw{message:"Invalid receiver address."};case 4:if(!e.state.amountErr&&""!==e.state.amount){t.next=6;break}throw{message:"Amount must be a positive number."};case 6:return N=E()(e.state.amount),Y=E()(e.state.dropdownValue),_=E()("1e+"+I),Y=Y.times(_),N=N.times(Y),t.next=13,S.a.methods.transfer(B.a.utils.toChecksumAddress(e.state.recAddr),N.toFixed()).send({from:U});case 13:e.setState({loading:!1,success:!0}),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),e.setState({loading:!1,msgErr:t.t0.message});case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))),Object(p.a)(Object(c.a)(e),"updateContent",(function(){e.setState({headerHeight:H.clientHeight})})),Object(p.a)(Object(c.a)(e),"numberWithCommas",(function(e){var t=e.split(".");return t[0]=t[0].replace(/^0+/,""),t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),""===t[0]&&(t[0]="0"),t.join(".")})),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(o.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H=document.getElementById("header"),t=setInterval((function(){"visible"===H.style.visibility&&(A=document.getElementById("pausedmsg"),n.setState({headerHeight:H.clientHeight,pausedHeight:A.clientHeight}),clearInterval(t))}),100),window.addEventListener("pausedClosed",(function(e){n.setState({pausedHeight:0})})),e.next=5,this.getCryptoByteInfo();case 5:this.setState({mounted:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return T(m.a,{mounted:this.state.mounted},T(v.a,null,T("title",null,"Crypto Byte - Transfer tokens")),T(x.a,null),T(g.a,{onUpdate:this.updateContent},T(O.a,{style:{marginTop:this.state.pausedHeight?20:this.state.headerHeight+20}},T(y.a,{as:"h3",inverted:!0,dividing:!0,textAlign:"center"},"You can transfer tokens from your account with the form below."),T(k.a,{inverted:!0,onSubmit:this.onSubmit},T(k.a.Group,{widths:"equal"},T(k.a.Input,{error:this.state.recAddrErr,label:"Receiver address"},T(C.a,{placeholder:"0x0000000000000000000000000000000000000000",value:this.state.recAddr,onChange:function(t){e.setState({recAddr:t.target.value}),t.target.value.match(/^(0x||0X)[a-fA-F0-9]{40}$/g)||""===t.target.value?e.setState({recAddrErr:!1}):e.setState({recAddrErr:{content:"Please enter a valid address."}})}})),T(k.a.Input,{label:"Amount to transfer",error:this.state.amountErr,style:{width:"90%"}},T(C.a,{placeholder:"123.456",label:T(w.a,{scrolling:!0,value:this.state.dropdownValue,options:M,onChange:function(t,n){e.setState({dropdownValue:n.value,dropdownKey:n.options.find((function(e){return e.value===n.value})).key})}}),labelPosition:"right",value:this.state.amount,onChange:function(t){e.setState({amount:t.target.value}),(isNaN(t.target.value)||parseFloat(t.target.value)<0||"0x"===t.target.value.substring(0,2))&&""!==t.target.value?e.setState({amountErr:{content:"The amount must be a positive number."}}):e.setState({amountErr:!1})}}))),this.state.amount&&!this.state.amountErr&&T(P.a,{info:!0},T("p",null,"This is going to transact"," ",T("b",null,this.numberWithCommas(this.state.amount)," ",this.state.dropdownKey)," ","from your account.",T("br",null),"Once the transaction is done, you can't get your CRB back. To avoid any inconveniences, please double check the receiver address (and you should also ",T("b",null,"never")," hand type addresses).")),this.state.msgErr&&T("div",null,T(P.a,{negative:!0,compact:!0},T(P.a.Header,null,"Something went wrong!"),this.state.msgErr),T("br",null)),this.state.success&&T("div",null,T(P.a,{positive:!0,compact:!0},T(P.a.Header,null,"Transaction complete!"),"The transaction was completed successfully."),T("br",null)),T(R.a,{type:"submit",loading:this.state.loading,disabled:this.state.loading},"Submit")))))}}]),n}(h.Component);t.default=F}},[["EoCt",0,1,2,3,4,6,7]]]);