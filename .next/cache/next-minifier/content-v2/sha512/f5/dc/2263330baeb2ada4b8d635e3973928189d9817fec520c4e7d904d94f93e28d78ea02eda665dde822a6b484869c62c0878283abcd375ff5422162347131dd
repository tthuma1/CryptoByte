{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{\"3mGJ\":function(e,t,n){\"use strict\";var a=n(\"wx14\"),s=(n(\"Wt1U\"),n(\"iuhU\")),o=(n(\"17x9\"),n(\"q1tI\")),r=n.n(o),i=n(\"ZeOK\"),c=n(\"ICNK\"),l=n(\"Y53p\"),u=n(\"H+2d\");function p(e){var t=e.children,n=e.className,o=e.compact,d=e.content,h=e.horizontal,b=e.piled,f=e.raised,m=e.size,g=e.stacked,v=Object(s.a)(\"ui\",m,Object(i.a)(o,\"compact\"),Object(i.a)(h,\"horizontal\"),Object(i.a)(b,\"piled\"),Object(i.a)(f,\"raised\"),Object(i.a)(g,\"stacked\"),\"segments\",n),O=Object(c.a)(p,e),k=Object(l.a)(p,e);return r.a.createElement(k,Object(a.a)({},O,{className:v}),u.b.isNil(t)?d:t)}p.handledProps=[\"as\",\"children\",\"className\",\"compact\",\"content\",\"horizontal\",\"piled\",\"raised\",\"size\",\"stacked\"],p.propTypes={};var d=p;function h(e){var t=e.children,n=e.className,o=e.content,i=Object(s.a)(\"inline\",n),p=Object(c.a)(h,e),d=Object(l.a)(h,e);return r.a.createElement(d,Object(a.a)({},p,{className:i}),u.b.isNil(t)?o:t)}h.handledProps=[\"as\",\"children\",\"className\",\"content\"],h.propTypes={};var b=h;function f(e){var t=e.attached,n=e.basic,o=e.children,p=e.circular,d=e.className,h=e.clearing,b=e.color,m=e.compact,g=e.content,v=e.disabled,O=e.floated,k=e.inverted,j=e.loading,y=e.placeholder,w=e.padded,P=e.piled,x=e.raised,T=e.secondary,N=e.size,R=e.stacked,I=e.tertiary,H=e.textAlign,V=e.vertical,C=Object(s.a)(\"ui\",b,N,Object(i.a)(n,\"basic\"),Object(i.a)(p,\"circular\"),Object(i.a)(h,\"clearing\"),Object(i.a)(m,\"compact\"),Object(i.a)(v,\"disabled\"),Object(i.a)(k,\"inverted\"),Object(i.a)(j,\"loading\"),Object(i.a)(y,\"placeholder\"),Object(i.a)(P,\"piled\"),Object(i.a)(x,\"raised\"),Object(i.a)(T,\"secondary\"),Object(i.a)(R,\"stacked\"),Object(i.a)(I,\"tertiary\"),Object(i.a)(V,\"vertical\"),Object(i.b)(t,\"attached\"),Object(i.b)(w,\"padded\"),Object(i.d)(H),Object(i.e)(O,\"floated\"),\"segment\",d),E=Object(c.a)(f,e),S=Object(l.a)(f,e);return r.a.createElement(S,Object(a.a)({},E,{className:C}),u.b.isNil(o)?g:o)}f.handledProps=[\"as\",\"attached\",\"basic\",\"children\",\"circular\",\"className\",\"clearing\",\"color\",\"compact\",\"content\",\"disabled\",\"floated\",\"inverted\",\"loading\",\"padded\",\"piled\",\"placeholder\",\"raised\",\"secondary\",\"size\",\"stacked\",\"tertiary\",\"textAlign\",\"vertical\"],f.Group=d,f.Inline=b,f.propTypes={};t.a=f},\"3sl+\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/tokens/owner\",function(){return n(\"Sf6h\")}])},NNTU:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return j}));var a=n(\"wx14\"),s=n(\"dI71\"),o=n(\"Og4/\"),r=n.n(o),i=n(\"bNQv\"),c=n.n(i),l=n(\"Wt1U\"),u=n.n(l),p=n(\"ijCd\"),d=n.n(p),h=n(\"5MGi\"),b=(n(\"17x9\"),n(\"q1tI\")),f=n.n(b),m=n(\"nPHS\"),g=n(\"FtJ3\"),v=n(\"TIbl\"),O=n(\"Y53p\"),k=n(\"ICNK\"),j=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).calculations={bottomPassed:!1,bottomVisible:!1,fits:!1,passing:!1,offScreen:!1,onScreen:!1,topPassed:!1,topVisible:!1},t.firedCallbacks=[],t.ref=Object(b.createRef)(),t.fire=function(e,n,a){var s=e.callback,o=e.name;void 0===a&&(a=!1);var r=t.props,i=r.continuous,c=r.once,l=t.calculations[n]!==a,p=i||t.calculations[n]!==t.oldCalculations[n];l&&p&&t.execute(s,o),c||(t.firedCallbacks=u()(t.firedCallbacks,o))},t.handleUpdate=function(){t.ticking||(t.ticking=!0,t.frameId=requestAnimationFrame(t.update))},t.update=function(){if(t.mounted){t.ticking=!1,t.oldCalculations=t.calculations,t.calculations=t.computeCalculations(),t.pageYOffset=t.getPageYOffset();var e=t.props,n=e.onBottomPassed,s=e.onBottomPassedReverse,o=e.onBottomVisible,i=e.onBottomVisibleReverse,l=e.onPassing,u=e.onPassingReverse,p=e.onTopPassed,d=e.onTopPassedReverse,h=e.onTopVisible,b=e.onTopVisibleReverse,f=e.onOffScreen,m=e.onOnScreen,g=e.updateOn,v={bottomPassed:{callback:n,name:\"onBottomPassed\"},bottomVisible:{callback:o,name:\"onBottomVisible\"},passing:{callback:l,name:\"onPassing\"},offScreen:{callback:f,name:\"onOffScreen\"},onScreen:{callback:m,name:\"onOnScreen\"},topPassed:{callback:p,name:\"onTopPassed\"},topVisible:{callback:h,name:\"onTopVisible\"}},O={bottomPassed:{callback:s,name:\"onBottomPassedReverse\"},bottomVisible:{callback:i,name:\"onBottomVisibleReverse\"},passing:{callback:u,name:\"onPassingReverse\"},topPassed:{callback:d,name:\"onTopPassedReverse\"},topVisible:{callback:b,name:\"onTopVisibleReverse\"}};r()(t.props,\"onUpdate\",null,Object(a.a)({},t.props,{calculations:t.calculations})),t.fireOnPassed(),c()(O,(function(e,n){return t.fire(e,n,!0)})),c()(v,(function(e,n){return t.fire(e,n)})),\"repaint\"===g&&t.handleUpdate()}},t}Object(s.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){if(this.mounted=!0,Object(m.a)()){var e=this.props,t=e.context,n=e.fireOnMount,a=e.updateOn;this.pageYOffset=this.getPageYOffset(),this.attachHandlers(t,a),n&&this.update()}},n.componentDidUpdate=function(e){(e.continuous!==this.props.continuous||e.once!==this.props.once||e.updateOn!==this.props.updateOn)&&(this.firedCallbacks=[]),e.context===this.props.context&&e.updateOn===this.props.updateOn||(this.unattachHandlers(e.context),this.attachHandlers(this.props.context,this.props.updateOn))},n.componentWillUnmount=function(){var e=this.props.context;this.unattachHandlers(e),this.mounted=!1},n.attachHandlers=function(e,t){\"events\"!==t?this.handleUpdate():e&&(g.a.sub(\"resize\",this.handleUpdate,{target:e}),g.a.sub(\"scroll\",this.handleUpdate,{target:e}))},n.unattachHandlers=function(e){e&&(g.a.unsub(\"resize\",this.handleUpdate,{target:e}),g.a.unsub(\"scroll\",this.handleUpdate,{target:e})),this.frameId&&cancelAnimationFrame(this.frameId)},n.execute=function(e,t){var n=this.props.continuous;e&&(!n&&d()(this.firedCallbacks,t)||(e(null,Object(a.a)({},this.props,{calculations:this.calculations})),this.firedCallbacks.push(t)))},n.fireOnPassed=function(){var e=this,t=this.calculations,n=t.percentagePassed,a=t.pixelsPassed,s=this.props.onPassed;c()(s,(function(t,s){var o=Number(s);if(o&&a>=o)e.execute(t,s);else{var r=(\"\"+s).match(/^(\\d+)%$/);if(r){var i=Number(r[1])/100;n>=i&&e.execute(t,s)}}}))},n.computeCalculations=function(){var e=this.props.offset,t=this.ref.current.getBoundingClientRect(),n=t.bottom,a=t.height,s=t.top,o=t.width,r=Object(v.a)(e),i=r[0],c=r[1],l=this.getPageYOffset()>this.pageYOffset?\"down\":\"up\",u=s<i,p=n<c,d=p?0:Math.max(-1*s,0),h=d/a,b=n>=c&&n<=window.innerHeight,f=s>=i&&s<=window.innerHeight,m=(f||u)&&!p;return{bottomPassed:p,bottomVisible:b,direction:l,fits:f&&b,height:a,passing:u&&!p,percentagePassed:h,pixelsPassed:d,offScreen:!m,onScreen:m,topPassed:u,topVisible:f,width:o}},n.getPageYOffset=function(){var e=this.props.context;return e?e===window?window.pageYOffset:e.scrollTop:0},n.render=function(){var e=this.props.children,n=Object(O.a)(t,this.props),a=Object(k.a)(t,this.props);return f.a.createElement(h.a,{innerRef:this.ref},f.a.createElement(n,a,e))},t}(b.Component);j.handledProps=[\"as\",\"children\",\"context\",\"continuous\",\"fireOnMount\",\"offset\",\"onBottomPassed\",\"onBottomPassedReverse\",\"onBottomVisible\",\"onBottomVisibleReverse\",\"onOffScreen\",\"onOnScreen\",\"onPassed\",\"onPassing\",\"onPassingReverse\",\"onTopPassed\",\"onTopPassedReverse\",\"onTopVisible\",\"onTopVisibleReverse\",\"onUpdate\",\"once\",\"updateOn\"],j.propTypes={},j.defaultProps={context:Object(m.a)()?window:null,continuous:!1,offset:[0,0],once:!0,updateOn:\"events\"}},Sf6h:function(e,t,n){\"use strict\";n.r(t);var a,s,o,r=n(\"o0o1\"),i=n.n(r),c=n(\"HaE+\"),l=n(\"1OyB\"),u=n(\"vuIU\"),p=n(\"JX7q\"),d=n(\"Ji7U\"),h=n(\"md7G\"),b=n(\"foSv\"),f=n(\"rePB\"),m=n(\"q1tI\"),g=n.n(m),v=n(\"5Yp1\"),O=n(\"z8k1\"),k=n(\"NNTU\"),j=n(\"5XkN\"),y=n(\"yE/o\"),w=n(\"QetY\"),P=n(\"D1pA\"),x=n(\"aQu0\"),T=n(\"TbSc\"),N=n(\"3mGJ\"),R=n(\"yo71\"),I=n(\"igWR\"),H=n(\"8cHP\"),V=n(\"oZBQ\"),C=n(\"qcXG\"),E=n(\"vDqi\"),S=n.n(E),B=g.a.createElement;function U(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(b.a)(e);if(t){var s=Object(b.a)(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return Object(h.a)(this,n)}}var A=function(e){Object(d.a)(n,e);var t=U(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o)),Object(f.a)(Object(p.a)(e),\"state\",{mounted:!1,headerHeight:0,pausedHeight:0,images:{},buyLoading:!1,jdentHeigth:270}),Object(f.a)(Object(p.a)(e),\"buyToken\",function(){var t=Object(c.a)(i.a.mark((function t(n){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n.target.name,n.preventDefault(),e.setState({buyLoading:!0}),t.prev=3,t.next=6,I.a.methods.buyToken(s).send({from:a,value:e.props.tokenInfo[s].price});case 6:H.Router.replaceRoute(\"/tokens\"),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(3);case 11:e.setState({buyLoading:!1});case 12:case\"end\":return t.stop()}}),t,null,[[3,9]])})));return function(e){return t.apply(this,arguments)}}()),Object(f.a)(Object(p.a)(e),\"updateImage\",function(){var t=Object(c.a)(i.a.mark((function t(n,a){var s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=a.calculations,e.setState({jdentHeigth:s.height-60});case 2:case\"end\":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e}return Object(u.a)(n,[{key:\"componentDidMount\",value:function(){var e=Object(c.a)(i.a.mark((function e(){var t,n,r,c,l=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.a.eth.getAccounts();case 2:a=e.sent[0],s=document.getElementById(\"header\"),t=setInterval((function(){\"visible\"===s.style.visibility&&(o=document.getElementById(\"pausedmsg\"),l.setState({transVisible:!0,headerHeight:s.clientHeight,pausedHeight:o.clientHeight}),clearInterval(t))}),100),window.addEventListener(\"pausedClosed\",(function(e){l.setState({pausedHeight:0})})),n={},r=0;case 8:if(!(r<this.props.count)){e.next=22;break}return c=this.props.tokens[r],e.prev=10,e.next=13,S.a.get(\"../static/images/ERC721/\".concat(c,\".jpg\"));case 13:n[c]=!0,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),n[c]=!1;case 19:r++,e.next=8;break;case 22:return e.next=24,this.setState({images:n});case 24:this.setState({mounted:!0});case 25:case\"end\":return e.stop()}}),e,this,[[10,16]])})));return function(){return e.apply(this,arguments)}}()},{key:\"renderTokens\",value:function(){var e=this,t=this.props.tokens.map((function(t){return t=Number(t),B(O.a,{key:t},e.state.images[t]?B(k.a,{onUpdate:e.updateImage},B(j.a,{src:\"/static/images/ERC721/\".concat(t,\".jpg\"),wrapped:!0})):B(y.a,{textAlign:\"center\",style:{background:\"rgba(0,0,0,.05)\",overflow:\"auto\",paddingTop:\"30px\",paddingBottom:\"30px\"}},B(C.a,{value:t,size:e.state.jdentHeigth})),B(O.a.Content,null,B(O.a.Header,null,t<=\"4\"?\"Viking Collection #\"+t:\"Classic Token #\"+(Number(t)-\"4\")),B(O.a.Description,null,B(\"b\",null,Number(e.props.tokenInfo[t].price)?\"Token price: \"+V.a.utils.fromWei(e.props.tokenInfo[t].price,\"ether\")+\" ETH\":\"Token not for sale\")),B(O.a.Meta,{style:{overflow:\"auto\"}},\"Owner\",a==e.props.owner?\" (You)\":\"\",\":\",\" \",e.props.owner)),B(O.a.Content,{extra:!0},B(H.Link,{route:\"/token/\".concat(t)},B(\"a\",null,B(w.a,null,\"View Details\",B(P.a,{name:\"chevron circle right\"})))),Number(e.props.tokenInfo[t].price)&&e.props.owner!=a?B(w.a,{name:t,primary:!0,onClick:e.buyToken,loading:e.state.buyLoading,disabled:e.state.buyLoading},\"Buy token\",B(P.a,{name:\"shopping cart right\"})):\"\"))}));return B(O.a.Group,{itemsPerRow:2},t)}},{key:\"render\",value:function(){return B(v.a,{mounted:this.state.mounted},B(R.a,null),B(y.a,{textAlign:\"center\",style:{marginTop:this.state.pausedHeight?20:this.state.headerHeight+20}},this.props.isValidAccount?B(\"div\",null,B(x.a,{as:\"h2\",inverted:!0,dividing:!0},this.props.owner,\" \",B(\"span\",{style:{color:\"#E8E8E8\"}},\"owns\"),\" \",this.props.count,\" \",B(\"span\",{style:{color:\"#E8E8E8\"}},\"token\",1!=this.props.count?\"s\":\"\",\".\")),this.renderTokens()):B(\"div\",null,B(T.a,{negative:!0},B(T.a.Header,null,\"Oops, something went wrong!\"),B(\"p\",null,\"Looks like the account you're searching for doesn't exist.\")),B(N.a,{inverted:!0,clearing:!0},\"If you're seeing this message, you most likely aren't logged in your\",\" \",B(H.Link,{route:\"https://metamask.io/\"},B(\"a\",{target:\"_blank\"},\" MetaMask\")),\" \",\"account.\",B(\"br\",null),\"To view MetaMask use instructions, click on this button.\",\" \",B(R.a,{trigger:B(w.a,{size:\"small\",compact:!0},\"View Instructions\"),visible:!1})))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a,s,o,r,c,l,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,e.prev=1,a=V.a.utils.toChecksumAddress(n.owner),s=[],e.next=6,I.a.methods.balanceOf(a).call();case 6:o=e.sent,r=0;case 8:if(!(r<o)){e.next=16;break}return e.next=11,I.a.methods.tokenOfOwnerByIndex(a,r).call();case 11:c=e.sent,s.push(c);case 13:r++,e.next=8;break;case 16:l={},u=0;case 18:if(!(u<s.length)){e.next=27;break}return p=s[u],l[p]={},e.next=23,I.a.methods.getTokenPrice(p).call();case 23:l[p].price=e.sent;case 24:u++,e.next=18;break;case 27:return s.sort((function(e,t){return e-t})),e.abrupt(\"return\",{tokens:s,owner:a,tokenInfo:l,count:o,isValidAccount:!0});case 31:return e.prev=31,e.t0=e.catch(1),e.abrupt(\"return\",{isValidAccount:!1});case 34:case\"end\":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(m.Component);t.default=A},TIbl:function(e,t,n){\"use strict\";t.a=function(e){return\"number\"===typeof e||\"string\"===typeof e?[e,e]:e}}},[[\"3sl+\",0,1,2,3,4,5,9]]]);","extractedComments":[]}