{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { Menu, Dropdown } from 'semantic-ui-react';\nimport { Link } from '../routes';\nimport cryptoByte from '../ethereum/cryptoByte';\nimport web3 from '../ethereum/web3';\nimport Paused from '../components/Paused';\nlet currentAccount, height, isPaused;\n\nclass Header extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isAdmin: 'none',\n      visibleFull: 'hidden',\n      pausedMounted: false\n    });\n  }\n\n  async componentDidMount() {\n    currentAccount = (await web3.eth.getAccounts())[0];\n\n    if ((await web3.eth.net.getNetworkType()) === process.env.NETWORK_TYPE && typeof currentAccount !== 'undefined') {\n      const isMinter = await cryptoByte.methods.isMinter(currentAccount).call();\n      const isPauser = await cryptoByte.methods.isPauser(currentAccount).call();\n\n      if (isMinter || isPauser) {\n        this.setState({\n          isAdmin: 'flex'\n        });\n      }\n    }\n\n    isPaused = await cryptoByte.methods.paused().call();\n    const interval = setInterval(() => {\n      if (this.props.mounted == true) {\n        clearInterval(interval);\n        this.props.updateState();\n        this.setState({\n          visibleFull: 'visible'\n        });\n      }\n    }, 100);\n    height = document.getElementById('header').clientHeight;\n    window.addEventListener('resize', () => {\n      height = document.getElementById('header').clientHeight;\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", null, this.state.visibleFull === 'visible' && __jsx(Paused, {\n      headerHeight: height,\n      isPaused: true\n      /*isPaused={isPaused}*/\n\n    }), __jsx(Menu, {\n      stackable: true,\n      inverted: true,\n      fixed: \"top\",\n      id: \"header\",\n      style: {\n        visibility: this.state.visibleFull\n      }\n    }, __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, __jsx(\"img\", {\n      src: \"/static/favicon.ico\"\n    }))), __jsx(Link, {\n      href: \"/\"\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, \"Home\")), __jsx(Dropdown, {\n      item: true,\n      text: \"Collectible Tokens\"\n    }, __jsx(Dropdown.Menu, null, __jsx(Link, {\n      href: \"/tokens\"\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, \"All Tokens\")), __jsx(Link, {\n      href: `/tokens/${currentAccount}`\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, \"My Tokens\")), __jsx(Link, {\n      href: \"/buy_tokens/721\"\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, \"Buy New Tokens\")))), __jsx(Menu.Menu, {\n      position: \"right\",\n      style: {\n        backgroundColor: '#444444',\n        display: this.state.isAdmin\n      }\n    }, __jsx(Link, {\n      route: \"/\"\n    }, __jsx(\"a\", {\n      className: \"item\"\n    }, \"Admin Page\")))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/Tim/Desktop/CryptoByte-new/components/Header.js"],"names":["React","Menu","Dropdown","Link","cryptoByte","web3","Paused","currentAccount","height","isPaused","Header","Component","isAdmin","visibleFull","pausedMounted","componentDidMount","eth","getAccounts","net","getNetworkType","process","env","NETWORK_TYPE","isMinter","methods","call","isPauser","setState","paused","interval","setInterval","props","mounted","clearInterval","updateState","document","getElementById","clientHeight","window","addEventListener","render","state","visibility","backgroundColor","display"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,mBAA/B;AACA,SAASC,IAAT,QAAqB,WAArB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,IAAIC,cAAJ,EAAoBC,MAApB,EAA4BC,QAA5B;;AAEA,MAAMC,MAAN,SAAqBV,KAAK,CAACW,SAA3B,CAAqC;AAAA;AAAA;;AAAA,mCAC3B;AACNC,MAAAA,OAAO,EAAE,MADH;AAENC,MAAAA,WAAW,EAAE,QAFP;AAGNC,MAAAA,aAAa,EAAE;AAHT,KAD2B;AAAA;;AAOnC,QAAMC,iBAAN,GAA0B;AACxBR,IAAAA,cAAc,GAAG,CAAC,MAAMF,IAAI,CAACW,GAAL,CAASC,WAAT,EAAP,EAA+B,CAA/B,CAAjB;;AAEA,QACE,CAAC,MAAMZ,IAAI,CAACW,GAAL,CAASE,GAAT,CAAaC,cAAb,EAAP,MAA0CC,OAAO,CAACC,GAAR,CAAYC,YAAtD,IACA,OAAOf,cAAP,KAA0B,WAF5B,EAGE;AACA,YAAMgB,QAAQ,GAAG,MAAMnB,UAAU,CAACoB,OAAX,CAAmBD,QAAnB,CAA4BhB,cAA5B,EAA4CkB,IAA5C,EAAvB;AACA,YAAMC,QAAQ,GAAG,MAAMtB,UAAU,CAACoB,OAAX,CAAmBE,QAAnB,CAA4BnB,cAA5B,EAA4CkB,IAA5C,EAAvB;;AAEA,UAAIF,QAAQ,IAAIG,QAAhB,EAA0B;AACxB,aAAKC,QAAL,CAAc;AAAEf,UAAAA,OAAO,EAAE;AAAX,SAAd;AACD;AACF;;AAEDH,IAAAA,QAAQ,GAAG,MAAML,UAAU,CAACoB,OAAX,CAAmBI,MAAnB,GAA4BH,IAA5B,EAAjB;AAEA,UAAMI,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACjC,UAAI,KAAKC,KAAL,CAAWC,OAAX,IAAsB,IAA1B,EAAgC;AAC9BC,QAAAA,aAAa,CAACJ,QAAD,CAAb;AACA,aAAKE,KAAL,CAAWG,WAAX;AACA,aAAKP,QAAL,CAAc;AAAEd,UAAAA,WAAW,EAAE;AAAf,SAAd;AACD;AACF,KAN2B,EAMzB,GANyB,CAA5B;AAQAL,IAAAA,MAAM,GAAG2B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,YAA3C;AACAC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtC/B,MAAAA,MAAM,GAAG2B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,YAA3C;AACD,KAFD;AAGD;;AAEDG,EAAAA,MAAM,GAAG;AACP,WACE,mBACG,KAAKC,KAAL,CAAW5B,WAAX,KAA2B,SAA3B,IACC,MAAC,MAAD;AACE,MAAA,YAAY,EAAEL,MADhB;AAEE,MAAA,QAAQ,EAAE;AAAM;;AAFlB,MAFJ,EAOE,MAAC,IAAD;AACE,MAAA,SAAS,MADX;AAEE,MAAA,QAAQ,MAFV;AAGE,MAAA,KAAK,EAAC,KAHR;AAIE,MAAA,EAAE,EAAC,QAJL;AAKE,MAAA,KAAK,EAAE;AACLkC,QAAAA,UAAU,EAAE,KAAKD,KAAL,CAAW5B;AADlB;AALT,OASE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,OACE;AAAK,MAAA,GAAG,EAAC;AAAT,MADF,CADF,CATF,EAcE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,cADF,CAdF,EAuBE,MAAC,QAAD;AAAU,MAAA,IAAI,MAAd;AAAe,MAAA,IAAI,EAAC;AAApB,OACE,MAAC,QAAD,CAAU,IAAV,QACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,oBADF,CADF,EAIE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAG,WAAUN,cAAe;AAAtC,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,mBADF,CAJF,EAOE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAC;AAAX,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,wBADF,CAPF,CADF,CAvBF,EAoCE,MAAC,IAAD,CAAM,IAAN;AACE,MAAA,QAAQ,EAAC,OADX;AAEE,MAAA,KAAK,EAAE;AACLoC,QAAAA,eAAe,EAAE,SADZ;AAELC,QAAAA,OAAO,EAAE,KAAKH,KAAL,CAAW7B;AAFf;AAFT,OAOE,MAAC,IAAD;AAAM,MAAA,KAAK,EAAC;AAAZ,OACE;AAAG,MAAA,SAAS,EAAC;AAAb,oBADF,CAPF,CApCF,CAPF,CADF;AA0DD;;AAjGkC;;AAoGrC,eAAeF,MAAf","sourcesContent":["import React from 'react';\r\nimport { Menu, Dropdown } from 'semantic-ui-react';\r\nimport { Link } from '../routes';\r\nimport cryptoByte from '../ethereum/cryptoByte';\r\nimport web3 from '../ethereum/web3';\r\nimport Paused from '../components/Paused';\r\n\r\nlet currentAccount, height, isPaused;\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    isAdmin: 'none',\r\n    visibleFull: 'hidden',\r\n    pausedMounted: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    currentAccount = (await web3.eth.getAccounts())[0];\r\n\r\n    if (\r\n      (await web3.eth.net.getNetworkType()) === process.env.NETWORK_TYPE &&\r\n      typeof currentAccount !== 'undefined'\r\n    ) {\r\n      const isMinter = await cryptoByte.methods.isMinter(currentAccount).call();\r\n      const isPauser = await cryptoByte.methods.isPauser(currentAccount).call();\r\n\r\n      if (isMinter || isPauser) {\r\n        this.setState({ isAdmin: 'flex' });\r\n      }\r\n    }\r\n\r\n    isPaused = await cryptoByte.methods.paused().call();\r\n\r\n    const interval = setInterval(() => {\r\n      if (this.props.mounted == true) {\r\n        clearInterval(interval);\r\n        this.props.updateState();\r\n        this.setState({ visibleFull: 'visible' });\r\n      }\r\n    }, 100);\r\n\r\n    height = document.getElementById('header').clientHeight;\r\n    window.addEventListener('resize', () => {\r\n      height = document.getElementById('header').clientHeight;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.visibleFull === 'visible' && (\r\n          <Paused\r\n            headerHeight={height}\r\n            isPaused={true} /*isPaused={isPaused}*/\r\n          />\r\n        )}\r\n        <Menu\r\n          stackable\r\n          inverted\r\n          fixed=\"top\"\r\n          id=\"header\"\r\n          style={{\r\n            visibility: this.state.visibleFull,\r\n          }}\r\n        >\r\n          <Link href=\"/\">\r\n            <a className=\"item\">\r\n              <img src=\"/static/favicon.ico\" />\r\n            </a>\r\n          </Link>\r\n          <Link href=\"/\">\r\n            <a className=\"item\">Home</a>\r\n          </Link>\r\n          {/*<Link href={`/account/${currentAccount}`}>\r\n            <a className=\"item\">My Account</a>\r\n          </Link>\r\n          <Link href=\"/buy_tokens/20\">\r\n            <a className=\"item\">Buy Tokens</a>\r\n        </Link>*/}\r\n          <Dropdown item text=\"Collectible Tokens\">\r\n            <Dropdown.Menu>\r\n              <Link href=\"/tokens\">\r\n                <a className=\"item\">All Tokens</a>\r\n              </Link>\r\n              <Link href={`/tokens/${currentAccount}`}>\r\n                <a className=\"item\">My Tokens</a>\r\n              </Link>\r\n              <Link href=\"/buy_tokens/721\">\r\n                <a className=\"item\">Buy New Tokens</a>\r\n              </Link>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n          <Menu.Menu\r\n            position=\"right\"\r\n            style={{\r\n              backgroundColor: '#444444',\r\n              display: this.state.isAdmin,\r\n            }}\r\n          >\r\n            <Link route=\"/\">\r\n              <a className=\"item\">Admin Page</a>\r\n            </Link>\r\n          </Menu.Menu>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}