{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Menu, Dropdown } from 'semantic-ui-react';\nimport { Link } from '../routes';\nimport cryptoByte from '../ethereum/cryptoByte';\nimport web3 from '../ethereum/web3';\nimport Paused from '../components/Paused';\nvar currentAccount, height, isPaused;\n\nvar Header = /*#__PURE__*/function (_React$Component) {\n  _inherits(Header, _React$Component);\n\n  var _super = _createSuper(Header);\n\n  function Header() {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isAdmin: 'none',\n      visibleFull: 'hidden',\n      pausedMounted: false\n    });\n\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _this2 = this;\n\n        var isMinter, isPauser, interval;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return web3.eth.getAccounts();\n\n              case 2:\n                currentAccount = _context.sent[0];\n                _context.next = 5;\n                return web3.eth.net.getNetworkType();\n\n              case 5:\n                _context.t1 = _context.sent;\n                _context.t2 = process.env.NETWORK_TYPE;\n                _context.t0 = _context.t1 === _context.t2;\n\n                if (!_context.t0) {\n                  _context.next = 10;\n                  break;\n                }\n\n                _context.t0 = typeof currentAccount !== 'undefined';\n\n              case 10:\n                if (!_context.t0) {\n                  _context.next = 18;\n                  break;\n                }\n\n                _context.next = 13;\n                return cryptoByte.methods.isMinter(currentAccount).call();\n\n              case 13:\n                isMinter = _context.sent;\n                _context.next = 16;\n                return cryptoByte.methods.isPauser(currentAccount).call();\n\n              case 16:\n                isPauser = _context.sent;\n\n                if (isMinter || isPauser) {\n                  this.setState({\n                    isAdmin: 'flex'\n                  });\n                }\n\n              case 18:\n                _context.next = 20;\n                return cryptoByte.methods.paused().call();\n\n              case 20:\n                isPaused = _context.sent;\n                interval = setInterval(function () {\n                  if (_this2.props.mounted == true) {\n                    clearInterval(interval);\n\n                    _this2.props.updateState();\n\n                    _this2.setState({\n                      visibleFull: 'visible'\n                    });\n                  }\n                }, 100);\n                height = document.getElementById('header').clientHeight;\n                window.addEventListener('resize', function () {\n                  height = document.getElementById('header').clientHeight;\n                });\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", null, this.state.visibleFull === 'visible' && __jsx(Paused, {\n        headerHeight: height,\n        isPaused: true\n        /*isPaused={isPaused}*/\n\n      }), __jsx(Menu, {\n        stackable: true,\n        inverted: true,\n        fixed: \"top\",\n        id: \"header\",\n        style: {\n          visibility: this.state.visibleFull\n        }\n      }, __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, __jsx(\"img\", {\n        src: \"/static/favicon.ico\"\n      }))), __jsx(Link, {\n        href: \"/\"\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, \"Home\")), __jsx(Dropdown, {\n        item: true,\n        text: \"Collectible Tokens\"\n      }, __jsx(Dropdown.Menu, null, __jsx(Link, {\n        href: \"/tokens\"\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, \"All Tokens\")), __jsx(Link, {\n        href: \"/tokens/\".concat(currentAccount)\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, \"My Tokens\")), __jsx(Link, {\n        href: \"/buy_tokens/721\"\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, \"Buy New Tokens\")))), __jsx(Menu.Menu, {\n        position: \"right\",\n        style: {\n          backgroundColor: '#444444',\n          display: this.state.isAdmin\n        }\n      }, __jsx(Link, {\n        route: \"/\"\n      }, __jsx(\"a\", {\n        className: \"item\"\n      }, \"Admin Page\")))));\n    }\n  }]);\n\n  return Header;\n}(React.Component);\n\nexport default Header;","map":{"version":3,"sources":["C:/Users/Tim/Desktop/CryptoByte-new/components/Header.js"],"names":["React","Menu","Dropdown","Link","cryptoByte","web3","Paused","currentAccount","height","isPaused","Header","isAdmin","visibleFull","pausedMounted","eth","getAccounts","net","getNetworkType","process","env","NETWORK_TYPE","methods","isMinter","call","isPauser","setState","paused","interval","setInterval","props","mounted","clearInterval","updateState","document","getElementById","clientHeight","window","addEventListener","state","visibility","backgroundColor","display","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Menu, Dropdown } from 'semantic-ui-react';\r\nimport { Link } from '../routes';\r\nimport cryptoByte from '../ethereum/cryptoByte';\r\nimport web3 from '../ethereum/web3';\r\nimport Paused from '../components/Paused';\r\n\r\nlet currentAccount, height, isPaused;\r\n\r\nclass Header extends React.Component {\r\n  state = {\r\n    isAdmin: 'none',\r\n    visibleFull: 'hidden',\r\n    pausedMounted: false,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    currentAccount = (await web3.eth.getAccounts())[0];\r\n\r\n    if (\r\n      (await web3.eth.net.getNetworkType()) === process.env.NETWORK_TYPE &&\r\n      typeof currentAccount !== 'undefined'\r\n    ) {\r\n      const isMinter = await cryptoByte.methods.isMinter(currentAccount).call();\r\n      const isPauser = await cryptoByte.methods.isPauser(currentAccount).call();\r\n\r\n      if (isMinter || isPauser) {\r\n        this.setState({ isAdmin: 'flex' });\r\n      }\r\n    }\r\n\r\n    isPaused = await cryptoByte.methods.paused().call();\r\n\r\n    const interval = setInterval(() => {\r\n      if (this.props.mounted == true) {\r\n        clearInterval(interval);\r\n        this.props.updateState();\r\n        this.setState({ visibleFull: 'visible' });\r\n      }\r\n    }, 100);\r\n\r\n    height = document.getElementById('header').clientHeight;\r\n    window.addEventListener('resize', () => {\r\n      height = document.getElementById('header').clientHeight;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.visibleFull === 'visible' && (\r\n          <Paused\r\n            headerHeight={height}\r\n            isPaused={true} /*isPaused={isPaused}*/\r\n          />\r\n        )}\r\n        <Menu\r\n          stackable\r\n          inverted\r\n          fixed=\"top\"\r\n          id=\"header\"\r\n          style={{\r\n            visibility: this.state.visibleFull,\r\n          }}\r\n        >\r\n          <Link href=\"/\">\r\n            <a className=\"item\">\r\n              <img src=\"/static/favicon.ico\" />\r\n            </a>\r\n          </Link>\r\n          <Link href=\"/\">\r\n            <a className=\"item\">Home</a>\r\n          </Link>\r\n          {/*<Link href={`/account/${currentAccount}`}>\r\n            <a className=\"item\">My Account</a>\r\n          </Link>\r\n          <Link href=\"/buy_tokens/20\">\r\n            <a className=\"item\">Buy Tokens</a>\r\n        </Link>*/}\r\n          <Dropdown item text=\"Collectible Tokens\">\r\n            <Dropdown.Menu>\r\n              <Link href=\"/tokens\">\r\n                <a className=\"item\">All Tokens</a>\r\n              </Link>\r\n              <Link href={`/tokens/${currentAccount}`}>\r\n                <a className=\"item\">My Tokens</a>\r\n              </Link>\r\n              <Link href=\"/buy_tokens/721\">\r\n                <a className=\"item\">Buy New Tokens</a>\r\n              </Link>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n          <Menu.Menu\r\n            position=\"right\"\r\n            style={{\r\n              backgroundColor: '#444444',\r\n              display: this.state.isAdmin,\r\n            }}\r\n          >\r\n            <Link route=\"/\">\r\n              <a className=\"item\">Admin Page</a>\r\n            </Link>\r\n          </Menu.Menu>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n"]},"metadata":{},"sourceType":"module"}